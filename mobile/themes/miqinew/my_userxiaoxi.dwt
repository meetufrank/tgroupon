<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>COLOR & SHAPE</title>

  <!--SEO Meta Tags-->
  <meta name="description" content="M-Store - Modern E-Commerce Template" />
  <meta name="keywords" content="shop, e-commerce, modern, minimalist style, responsive, online store, business, mobile, blog, bootstrap, html5, css3, jquery, js, gallery, slider, touch, creative, clean" />

  <!--Mobile Specific Meta Tag-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <!--Favicon
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
-->
  <!-- Google Material Icons -->
  <link href="{$ectouch_themes}/css/vendor/material-icons.min.css" rel="stylesheet" media="screen">

  <!-- Brand Icons -->
  <link href="{$ectouch_themes}/css/vendor/socicon.min.css" rel="stylesheet" media="screen">

  <!-- Bootstrap -->
  <link href="{$ectouch_themes}/css/vendor/bootstrap.min.css" rel="stylesheet" media="screen">

  <!-- Theme Styles -->
  <link href="{$ectouch_themes}/css/theme.min.css" rel="stylesheet" media="screen">

  <!-- tan chuang -->
  <link href="{$ectouch_themes}/js/layer_mobile/need/layer.css">

  <!-- Page Preloading -->
  <script src="{$ectouch_themes}/js/vendor/page-preloading.js"></script>

  <!-- by sun -->
  <style>
    .nav-pills{
    	padding-bottom:10px;
    }
  	.nav-pills>li {
	    float: left;
	    position: relative;
	    display: block;
	}
	.nav-pills>li.active>a, .nav-pills>li.active>a:hover, .nav-pills>li.active>a:focus {
	    color: #333;
	    background-color: #f5f5f5;
	}
	.nav-pills>li>a {
	    position: relative;
	    display: block;
	    padding: 10px 18px;
	    text-decoration:none;
	    font-size:14px;
	    color: #a5a5a5;
	}
	.nav-pills>li>a>span {
		padding-left:5px;
		color:#f20000;
	}
	.teammate-thumb {
	    border-radius: 50%;
	}
	.teammate-name a:hover {
	    color: #333;
	}
	.teammate-name a {
	    text-decoration: none;
	    color: #999;
	}
	.list_msgs li{
		list-style:none;
	}
	.list_msgs a.title:link{
		color:#000;
		font-size:15px;
		font-weight:bold;
		text-decoration:none;
		padding-left:10px;
		background:url({$ectouch_themes}/img/dot_red.png) no-repeat left center;
	}
	.list_msgs a.title.read:link{
		color:#666;
		font-size:14px;
		font-weight:normal;
		text-decoration:none;
		padding-left:10px;
		background:url({$ectouch_themes}/img/dot_black.png) no-repeat left center;
	}
	.list_msgs a.title:visited{
		color:#666;
		font-size:14px;
		font-weight:normal;
		text-decoration:none;
		padding-left:10px;
		background:url({$ectouch_themes}/img/dot_black.png) no-repeat left center;
	}
	.list_msgs a.title:hover{
		color:#999;
		text-decoration:underline;
	}
	.list_msgs a.title:active{
		color:#666;
		font-size:14px;
		font-weight:normal;
		text-decoration:none;
		padding-left:10px;
		background:url({$ectouch_themes}/img/dot_black.png) no-repeat left center;
	}
	button{
		outline:none;
	}
	.btn-save{
		width:50px; height:36px; border:1px solid #666; background-color:#666; color:white; font-size: 13px; font-weight: normal; border-radius: 4px;
	}
	.btn-bianji{
		width:50px; height:36px; border:1px solid red; background-color:red; color:white; font-size: 13px; font-weight: normal; border-radius: 4px;
	}
	.btn-yichu{
		width:50px; height:36px; border:1px solid red; background-color:#C20454; color:white; font-size: 13px; font-weight: normal; border-radius: 4px;
	}
	.input-save{
		width:50px; height:36px; border:1px solid #666; background-color:#666; color:white; font-size: 13px; font-weight: normal; border-radius: 4px;
	}
	#address-text{
		width:40%;
		height:50px;
		margin-bottom:-36px;
	}
	#btn-sm .btn-sm{
    height: 30px;
    font-size: 12px;
    font-weight: normal;
    line-height: 20px;
    padding: 0 5px;
    border-radius: 4px;
	}
	#form-control .form-control{
	height: 40px;
	line-height: 1.2;
	color: #999;
	border: 1px solid #ededed;
	border-radius: 2px;
	padding: 0;
	margin-bottom: 0px;
	text-indent:2px;
	}
	#form-control .col-md-4{
	padding-left:0;
	padding-right:0;
	}


  </style>

</head>

<!-- Body -->
<!-- Adding/Removing class ".page-preloading" is enabling/disabling background smooth page transition effect and spinner. Make sure you also added/removed link to page-preloading.js script in the <head> of the document. -->
<body class="page-preloading">

  <!-- Page Pre-Loader -->
  <div class="page-preloader">
    <div class="preloader">
      <img src="{$ectouch_themes}/img/preloader.gif" alt="Preloader">
    </div>
  </div><!-- .page-preloader -->

  <!-- Page Wrapper -->
  <div class="page-wrapper">


   <!-- 头部开始 -->
   {include file="head.dwt"}
  <!-- 头部结束-->






    <!-- Content -->
    <section class="container padding-top-3x">



	  <!-- Nav Tabs -->
      {include file="my_head.dwt"}
      <!-- Tab panes -->



      <div class="tab-content">








		<div role="tabpanel" class="tab-pane transition fade in active" id="tab3">
        	<!-- Nav Tabs -->
		      <ul class="nav-pills" role="tablist">
		        <li class="active"><a href="#tab3_1" role="tab" data-toggle="tab">系统消息<span>12</span></a></li>
		      </ul>
		      <!-- Tab panes -->
		      <div class="tab-content">
		        <div role="tabpanel" class="tab-pane transition fade in active" id="tab3_1">
		        	<ul class="list_msgs">
		        		<li class="col-lg-12">
                  <a href="#">
                    <div class="mysystem_messages col-lg-7 col-md-7 col-sm-7 col-xs-12">消息消息消息消息消息消息消息消息消息消息消息消息消息消息消息消息消息消息消息消息消息消息</div>
                    <div class="mysystem_time col-lg-5 col-md-5 col-sm-5 col-xs-12"><span>2017-02-17</span><span>17:04:22</span></div>
                  </a>
                </li>
		        	</ul>
		        	<!-- Pagination -->
					<div class="layui-box layui-laypage layui-laypage-default">
						<span class="layui-laypage-curr"><em class="layui-laypage-em"></em><em>1</em></span>
						<a href="javascript:;" data-page="2">2</a>
						<a href="javascript:;" data-page="3">3</a>
						<a href="javascript:;" data-page="4">4</a>
						<a href="javascript:;" data-page="5">5</a>
						<span>…</span>
						<a href="javascript:;" class="layui-laypage-last" title="尾页" data-page="100">末页</a>
						<a href="javascript:;" class="layui-laypage-next" data-page="2">下一页</a>
					</div>
					<!-- 当没有消息的时候 -->
					<div class="text-center text-gray">
						您好，还没有消息哦！
					</div>
		        </div>
		        <div role="tabpanel" class="tab-pane transition fade in" id="tab3_2">
		        	<ul class="list_msgs">
		        		<li><a class="pull-right" href="#"><i class="material-icons close"></i></a><a class="title read" href="#">达芬奇绘画艺术作品已开单</a></li>
		        	</ul>
		        </div>
		        </div>
        </div>





      </div>
      </section><!-- .container -->

           <!-- Footer脚步 -->
  {include file="foot.dwt"}

  </div>

  <!-- JavaScript (jQuery) libraries, plugins and custom scripts -->
  <script src="{$ectouch_themes}/js/vendor/jquery-2.1.4.min.js"></script>
  <script src="{$ectouch_themes}/js/vendor/bootstrap.min.js"></script>
  <script src="{$ectouch_themes}/js/vendor/smoothscroll.js"></script>
  <script src="{$ectouch_themes}/js/vendor/velocity.min.js"></script>
  <script src="{$ectouch_themes}/js/vendor/waves.min.js"></script>
  <script src="{$ectouch_themes}/js/vendor/icheck.min.js"></script>
  <script src="{$ectouch_themes}/js/scripts.js"></script>

  <!-- tan chuang -->
  <script src="{$ectouch_themes}/js/layer_mobile/layer.js"></script>
  <script src="{$ectouch_themes}/js/jquery.validate.js" type="text/javascript"></script>
  <script src="{$ectouch_themes}/js/messages_zh.js" type="text/javascript"></script>
  <!-- script for tan chuang -->
  <script type="text/javascript">
  $(document).ready(function () {
        $("#xqcar").click(function(){
            layer.open({
                content: '已加入购物车',
                skin: 'msg',
                time: 0.5 //0.5秒后自动关闭
            });
            $.ajax({
                type:"GET",
                url:"3.json",
                dataType: "json",
                success: function(data){
                    $(".item").find("input[type='checkbox']").iCheck("destroy");
                    //console.log(data);
                    $.each(data,function(i){
                        $("#zongjia").before('<div class="item">'+'<label class="checkbox">'+'<input style="position: absolute; opacity: 0;" type="checkbox" value="1">'+'</label>'+'<a href="shop-single.html" class="item-thumb">'+'<img src="'+data[i].img+'" alt="Item">'+'</a>'+'<div class="item-details">'+'<h3 class="item-title"><a href="shop-single.html">'+data[i].tradename+'</a></h3>'+'<h4 class="item-price" data-price="'+data[i].money+'">'+'￥'+data[i].money+'</h4>'+'<div class="count-input">'+'<a class="incr-btn" data-action="decrease" href="#">–</a>'+'<input class="quantity" type="text" value="'+data[i].value+'">'+'<a class="incr-btn" data-action="increase" href="#">+</a>'+'</div>'+'</div>'+'<a href="#" class="item-remove" data-toggle="tooltip" data-placement="top" title="移出购物车">'+'<i class="material-icons delete"></i>'+'</a>'+'</div>');//内容添加到页面上.
                    });
                    $(".item").find("input[type='checkbox']").on('ifChanged', function(event){ //ifCreated 事件应该在插件初始化之前绑定
                        jisuanjiage();
                    });
                    $(".item").find("input[type='checkbox']").iCheck();
                },
                error: function(){
                    alert("json出错");
                }
            });

        });
        $('#checkbox-all').on('ifChanged', function(event){ //ifCreated 事件应该在插件初始化之前绑定
            choseAll();
        });
        var $checkbox = $('input[type="checkbox"], input[type="radio"]');
        if($checkbox.length) {
            $('input').iCheck();
        }
        $("#cart").on("click",".item-remove",function(){
            $(this).parents(".item").remove();;
            jisuanjiage();
        });
        $("#cart").on("click",".incr-btn",function(){
            var $button = $(this);
            var oldValue = $button.parent().find('.quantity').val();
            $button.parent().find('.incr-btn[data-action="decrease"]').removeClass('inactive');
            if ($button.data('action') == "increase") {
                var newVal = parseFloat(oldValue) + 1;
            } else {
                // Don't allow decrementing below 1
                if (oldValue > 1) {
                    var newVal = parseFloat(oldValue) - 1;
                } else {
                    newVal = 1;
                    $button.addClass('inactive');
                }
            }
            $button.parent().find('.quantity').val(newVal);
            jisuanjiage();
        });
        jisuanjiage();
  });
    function choseAll(){
        console.info($("#checkbox-all")[0].checked);
        if($("#checkbox-all")[0].checked==true) {
            $(".shopping-cart").find("input[type='checkbox']").iCheck('check');
        }else{
            $(".shopping-cart").find("input[type='checkbox']").iCheck('uncheck');
        }
        jisuanjiage();
        // $(".shopping-cart").find("input[type='checkbox']").attr("checked",$("#checkbox-all").attr('checked'));;
    }
    function jisuanjiage(){
        var pay=0;
        $(".shopping-cart").children(".item").each(function () {
            if($(this).find("input[type='checkbox']")[0].checked){
                var price =parseFloat($(this).find(".item-price").attr("data-price"));
                var quantity=parseFloat($(this).find("input[class='quantity']").val());
                pay+=price*quantity;
            }
        });
        if(pay>0){
            $("#qujiesuan").show();
        }else{
            $("#qujiesuan").hide();
        }
        $(".amount").text("￥"+pay.toFixed(2));
        // $(".shopping-cart").find("input[type='checkbox']").attr("checked",$("#checkbox-all").attr('checked'));;
    }
  </script>

  <script>
	//申请提现
   $('#Apply_Cash').click(function(){
   	var content ='<div>您的申请已发送给管理员，我们会在2个工作日内审核你的提现要求，</div>'+'<div>请注意查看提现记录中的反馈信息</div>';
  	layer.open({
			  content:content,
			  style:'text-align:center',
			  btn: ['提交', '取消'],
			  shadeClose: false
			});
			});

	//提现记录
   $('#Apply_Record').click(function(){
   	var content ='<div class="col-xs-2">2016.11.3 </div>'
   	+
   	'<div class="col-xs-8">管理员Kitty同意了你的提现申请，本次提现金额为：300元</div>'
   	+
   	'<div class="col-xs-2">2016.11.3 </div>'
   	+
   	'<div class="col-xs-8">管理员Kitty同意了你的提现申请，本次提现金额为：300元</div>'
   	+
   	'<div style="padding-top:40px;">&nbsp;</div>'
   	+
   	'<div style="padding-left:14px;"><div class="layui-box layui-laypage layui-laypage-default"><span class="layui-laypage-curr"><em class="layui-laypage-em"></em><em>1</em></span><a href="javascript:;" data-page="2">2</a><a href="javascript:;" data-page="3">3</a><a href="javascript:;" data-page="4">4</a><a href="javascript:;" data-page="5">5</a><span>…</span><a href="javascript:;" class="layui-laypage-last" title="尾页" data-page="100">末页</a><a href="javascript:;" class="layui-laypage-next" data-page="2">下一页</a></div></div>';
  	layer.open({
			  title: [
			    '已提现：300元',
			    'background-color:#77cde3; color:#fff;'
			  ],
			  content:content,
			  btn: '我知道了',
			  shadeClose: false,
			});
			});

	//与我们合作
   $('#Cooperate').click(function(){
   	var content ='<div><input type="text" style="width:98%; height:40px; padding:0 1%; margin-bottom:10px;" placeholder="姓名" /></div>'
   	+
   	'<div><input type="text" style="width:98%; height:40px; padding:0 1%; margin-bottom:10px;" placeholder="手机" /></div>'
   	+
   	'<div><input type="text" style="width:98%; height:40px; padding:0 1%; margin-bottom:10px;" placeholder="邮箱" /></div>';
  	layer.open({
			  title: [
			    '填写表单',
			    'background-color:#77cde3; color:#fff;'
			  ],
			  content:content,
			  btn: ['提交', '取消']
			});
			});

	//快递跟踪
	$('#Logistics').click(function(){
   	var content ='<div class="row bg-default" style="padding:6px 0;"><div class="col-xs-2"><span style="font-size:10px;">2016-10-25</span><br><span style="font-size:22px; font-weight:bold;">19:03</span></div><div class="col-xs-1 hidden-xs" style="margin-top:10px;">●</div><div class="col-xs-7" style="margin-top:10px;">顺丰速运 &nbsp;已收取快件</div></div>'
   	+
   	'<div class="row" style="padding:6px 0;"><div class="col-xs-2"><span style="font-size:10px;">2016-10-25</span><br><span style="font-size:22px; font-weight:bold;">19:03</span></div><div class="col-xs-1 hidden-xs"  style="margin-top:10px;">●</div><div class="col-xs-7" style="margin-top:10px;">顺丰速运 &nbsp;已收取快件已收取快件</div></div>'
   	+
   	'<div class="row bg-default" style="padding:6px 0;"><div class="col-xs-2"><span style="font-size:10px;">2016-10-25</span><br><span style="font-size:22px; font-weight:bold;">19:03</span></div><div class="col-xs-1 hidden-xs"  style="margin-top:10px;">●</div><div class="col-xs-7" style="margin-top:10px; line-height:18px;">顺丰速运 &nbsp;已收取快件已收取快件已收取快件已收取快件已收取快件</div></div>'
   	+
   	'<div class="row" style="padding:6px 0;"><div class="col-xs-2"><span style="font-size:10px;">2016-10-25</span><br><span style="font-size:22px; font-weight:bold;">19:03</span></div><div class="col-xs-1 hidden-xs"  style="margin-top:10px;">●</div><div class="col-xs-7" style="margin-top:10px; line-height:18px;">顺丰速运 &nbsp;已收取快件已收取快件已收取快件已收取快件已收取快件</div></div>'
   	+
   	'<div class="row bg-default" style="padding:6px 0; color:#f20000;"><div class="col-xs-2"><span style="font-size:10px;">2016-10-25</span><br><span style="font-size:22px; font-weight:bold;">19:03</span></div><div class="col-xs-1 hidden-xs"  style="margin-top:12px;"><i class="material-icons done" style="border:1px solid #ef0568; border-radius:50%; padding:2px;"></i></div><div class="col-xs-7" style="margin-top:12px; line-height:18px;">已签收，感谢使用顺丰快递，期待再次为您服务！</div></div>'
   	;
  	layer.open({
			  title: [
			    '跟踪包裹',
			    'background-color:#77cde3; color:#fff;'
			  ],
			  content:content,
			  btn: '我知道了',
			  shadeClose: false,
			});
			});

	//管理地址
   $('#Address_Manager').click(function(){
   	var content ='<div><input type="text" style="width:98%; height:40px; padding:0 1%; margin-bottom:10px; border: 1px solid #ededed;" placeholder="收件人" /></div>'
   	+
   	'<div><input type="text" style="width:98%; height:40px; padding:0 1%; margin-bottom:10px; border: 1px solid #ededed;" placeholder="手机" /></div>'
   	+
   	'<div id="form-control"><div class="col-md-4 col-xs-12"><div class="form-element form-select"><select class="form-control"><option>省</option></select></div></div><div class="col-md-4 col-xs-12"><div class="form-element form-select"><select class="form-control"><option>市</option></select></div></div><div class="col-md-4 col-xs-12"><div class="form-element form-select"><select class="form-control"><option>区</option></select></div></div></div>'
   	+
   	'<div><input type="text" style="width:98%; height:40px; padding:0 1%; margin-bottom:10px; border: 1px solid #ededed;" placeholder="详细地址" /></div>'
   	+
   	'<div class="text-right visible-sm visible-xs"><a href="#" style="text-decoration: underline;">读取微信地址</a></div>';
  	layer.open({
			  title: [
			    '编辑地址',
			    'background-color:#77cde3; color:#fff;'
			  ],
			  content:content,
			  btn: ['确认', '返回']
			});
			});
	//管理地址 xs
   $('#Address_Manager_xs').click(function(){
   	var content ='<div><input type="text" style="width:98%; height:40px; padding:0 1%; margin-bottom:10px; border: 1px solid #ededed;" placeholder="收件人" /></div>'
   	+
   	'<div><input type="text" style="width:98%; height:40px; padding:0 1%; margin-bottom:10px; border: 1px solid #ededed;" placeholder="手机" /></div>'
   	+
   	'<div id="form-control"><div class="col-md-4 col-xs-12"><div class="form-element form-select"><select class="form-control"><option>省</option></select></div></div><div class="col-md-4 col-xs-12"><div class="form-element form-select"><select class="form-control"><option>市</option></select></div></div><div class="col-md-4 col-xs-12"><div class="form-element form-select"><select class="form-control"><option>区</option></select></div></div></div>'
   	+
   	'<div><input type="text" style="width:98%; height:40px; padding:0 1%; margin-bottom:10px; border: 1px solid #ededed;" placeholder="详细地址" /></div>'
   	+
   	'<div class="text-right visible-sm visible-xs"><a href="#" style="text-decoration: underline;">读取微信地址</a></div>';
  	layer.open({
			  title: [
			    '编辑地址',
			    'background-color:#77cde3; color:#fff;'
			  ],
			  content:content,
			  btn: ['确认', '返回']
			});
			});

  </script>

<script type="text/javascript">
  // 手机号码验证
  jQuery.validator.addMethod("isMobile", function(value, element) {
      var length = value.length;
      var mobile = /^(13[0-9]{9})|(18[0-9]{9})|(14[0-9]{9})|(17[0-9]{9})|(15[0-9]{9})$/;
      return this.optional(element) || (length == 11 && mobile.test(value));
  }, "请正确填写您的手机号码");

   $(function () {
    $("#xzdz").validate({
       rules: {
                    UserName: { required: true, },
                    UserTel: { required: true, number:true,isMobile:true,min:11},
                    UserSf: { required: true,},
                    UserCity: { required: true,minlength:2,maxlength:15 },
          UserAddress: { required: true,minlength:2,maxlength:30 }
                },
                messages:{
                    UserName: {
                        required: "请输入收货人！",
                     },
                    UserTel: {
                        required: "请填写你的手机号码",
                        number:"手机号码只能为数字",
            min: "手机号码必须为11位数！",
            isMobile:"请正确填写您的手机号码",
                     },
                    UserSf: {
                        required: "请输入省份！",
                    },
                    UserCity: {
                        required: "请输入城市!",
                    },
          UserAddress: {
                        required: "请输入地址!",
                    }
                },
                /*错误提示位置*/
                errorPlacement: function (error, element) {
                    error.appendTo(element.siblings("span"));
                }
    })
  })
  </script>
  <script type="text/javascript">
  	var statu = 0;
	var edit = document.getElementById('edit');
	var item = document.getElementById('shouhuo').getElementsByTagName('span');
	console.log(item);
	var item_length = item.length;
	var item_value = new Array(item_length);
	for(i = 0; i < item_length; i++){
                item_value[i] = item[i].innerHTML;
        }
	edit.onclick =function(){
                if(statu == 0){
                    edit.innerHTML= '保存';
					edit.className= "btn-save";
                    for(i = 0; i < item_length; i++){

						if(i==item_length-1){
							item[i].innerHTML = '<textarea type="txt" class="item_input" value="'+item_value[i]+'" id="address-text"></textarea>';
							}else{
								item[i].innerHTML = '<input type="txt" class="item_input" value="'+item_value[i]+'" size="20%" maxlength="60" onkeyup="checkLength(this)">';
								}
                    }
                    statu = 1;
                }else{
					document.getElementById("form0").submit();
                    edit.innerHTML= '编辑';
					edit.className= "btn-bianji";
                    var item_input = document.getElementsByClassName('item_input');
                    for(i = 0; i < item_length; i++){
                        item_value[i] = item_input[i].value;
                    }
                    for(i = 0; i < item_length; i++){
                        item[i].innerHTML = item_value[i];
                    }
                    statu = 0
                }
                return false;
            }
  </script>
  <!--设置input随着字数变化宽度同步增多-->
  <script language="javascript">
	function checkLength(which) {
		iCount = which.value.replace(/[^\u0000-\u00ff]/g,"aa");
		which.size=iCount.length+1;
	}
 </script>
</body><!-- <body> -->

</html>
